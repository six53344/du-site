# دليل دمج صفحة التحميل المتحركة مع موقع DU للدفع وشحن الرصيد

## المقدمة

هذا الدليل يشرح كيفية استبدال صفحة نجاح الدفع الحالية في موقع DU للدفع وشحن الرصيد بصفحة تحميل متحركة تعرض النص الثابت "بانتظار الموافقة على الطلب ومشاركة المعلومات".

## الملفات المرفقة

1. **loading-page-final.html**: صفحة التحميل المتحركة الكاملة
2. **integration-final.js**: ملف JavaScript للتكامل مع الموقع الأصلي

## خطوات الدمج

### الطريقة 1: استبدال صفحة نجاح الدفع مباشرة

1. قم بالوصول إلى ملفات الموقع الأصلي على السيرفر
2. ابحث عن الملف الذي يمثل صفحة نجاح الدفع (المسار: `/payment-success`)
3. استبدل محتوى هذا الملف بمحتوى ملف `loading-page-final.html`
4. تأكد من نقل أي معلومات ديناميكية (مثل رقم المعاملة والتاريخ والمبلغ) من الصفحة الأصلية إلى الصفحة الجديدة

### الطريقة 2: استخدام ملف JavaScript للتكامل

1. قم بتحميل ملف `integration-final.js` إلى مجلد الأصول (assets) في الموقع الأصلي
2. أضف السطر التالي إلى ملف `index.html` الرئيسي أو إلى القالب المشترك (common template) للموقع:

```html
<script src="/assets/integration-final.js"></script>
```

3. هذا الملف سيقوم تلقائياً باكتشاف متى يكون المستخدم في صفحة نجاح الدفع واستبدالها بصفحة التحميل المتحركة

### الطريقة 3: إعادة توجيه المسار (URL Redirect)

1. قم بتحميل ملف `loading-page-final.html` إلى مجلد الموقع وتسميته `loading.html`
2. قم بتعديل ملف التوجيه (مثل `.htaccess` في Apache أو ملف التكوين في Nginx) لإعادة توجيه المسار `/payment-success` إلى `/loading.html`

مثال لملف `.htaccess`:
```
Redirect 301 /payment-success /loading.html
```

## ملاحظات هامة

1. **نقل البيانات**: تأكد من أن بيانات المعاملة (رقم المعاملة، التاريخ، المبلغ) يتم نقلها بشكل صحيح من صفحة نجاح الدفع الأصلية إلى صفحة التحميل الجديدة
2. **التوافق مع المتصفحات**: تم اختبار الكود على المتصفحات الحديثة (Chrome، Firefox، Safari، Edge)
3. **التصميم المتجاوب**: صفحة التحميل متوافقة مع جميع أحجام الشاشات (الهواتف المحمولة، الأجهزة اللوحية، أجهزة الكمبيوتر)
4. **الأداء**: تم تحسين الكود للحصول على أداء سريع وسلس

## اختبار التكامل

بعد تنفيذ إحدى الطرق المذكورة أعلاه، يجب اختبار التكامل بالخطوات التالية:

1. قم بتنفيذ عملية دفع كاملة في الموقع
2. تأكد من أنه بعد إتمام الدفع، تظهر صفحة التحميل المتحركة بدلاً من صفحة نجاح الدفع الأصلية
3. تأكد من أن النص "بانتظار الموافقة على الطلب ومشاركة المعلومات" يظهر بشكل صحيح
4. تأكد من أن بيانات المعاملة (رقم المعاملة، التاريخ، المبلغ) تظهر بشكل صحيح
5. تأكد من أن زر "العودة إلى الصفحة الرئيسية" يعمل بشكل صحيح

## الدعم الفني

إذا واجهتك أي مشكلة في تنفيذ هذه التعليمات، يرجى التواصل مع فريق الدعم الفني.
